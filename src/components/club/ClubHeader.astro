---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

import { Flag, Stamp } from "lucide-react";

interface Props {
  club: CollectionEntry<"clubs">["data"];
}

const { club } = Astro.props;
---

<header class="relative mb-8">
  <!-- Cover Image -->
  <div class=" md:px-[10%]">
    <div class="w-full h-auto rounded-md overflow-hidden max-h-[70vh] border border-accent-600">
      <Image
        src={club.coverImage}
        alt={`${club.name} 的封面圖片`}
        class="w-full h-full object-cover"
      />
    </div>
  </div>

  <!-- Profile & Title -->
  <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
    <div
      class="relative -mt-12 sm:-mt-16 lg:-mt-[4.5rem] flex flex-col sm:flex-row items-center sm:items-end gap-x-4 gap-y-2"
    >
      <div
        class="w-28 h-28 sm:w-36 sm:h-36 lg:w-40 lg:h-40 rounded-full overflow-hidden flex-shrink-0 border-3 border-primary-100"
      >
        <Image
          src={club.profileImage}
          alt={`${club.name} 的頭貼`}
          class="w-full h-full object-cover rounded-full"
        />
      </div>

      <div class="flex-grow text-center sm:text-left sm:pb-2 /bg-red-400">
        <h1 class="text-3xl md:text-4xl font-bold text-primary-950">
          {club.name}
        </h1>
        <div
          class="flex justify-center sm:justify-start items-center gap-3 mt-2"
        >
          {
            club.attendsExpo && (
              <span class="flex items-center gap-1.5 text-sm bg-indigo-200 text-blue-800 px-2 py-0.5 rounded-full">
                <Flag className="w-4 h-4" />
                參加社博
              </span>
            )
          }
          {
            club.hasClubStamp && (
              <span class="flex items-center gap-1.5 text-sm bg-orange-200 text-yellow-800 px-2 py-0.5 rounded-full">
                <Stamp className="w-4 h-4" />
                保管印章
              </span>
            )
          }
        </div>
      </div>
    </div>
  </div>
</header>
